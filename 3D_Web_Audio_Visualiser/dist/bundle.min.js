<<<<<<< HEAD
!function e(n,t,r){function o(i,d){if(!t[i]){if(!n[i]){var s="function"==typeof require&&require;if(!d&&s)return s(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var w=t[i]={exports:{}};n[i][0].call(w.exports,function(e){var t=n[i][1][e];return o(t?t:e)},w,w.exports,e,n,t,r)}return t[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,n,t){function r(e){var n=f.createMediaStreamSource(e);n.connect(p)}function o(){console.log("The following error occurred: ")}function a(){g=document.getElementById("container"),y=new THREE.WebGLRenderer,y.setSize(window.innerWidth,window.innerHeight),y.autoClear=!1,g.appendChild(y.domElement),D=new THREE.Scene,H=new THREE.PerspectiveCamera(M,window.innerWidth/window.innerHeight,1,1e4),H.position.z=100,H.target=new THREE.Vector3(0,0,0),D.add(H),x=new THREE.Mesh(new THREE.SphereGeometry(500,60,60),new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("plate_1.png")})),x.scale.x=-1,x.doubleSided=!0,D.add(x),material=new THREE.ShaderMaterial({uniforms:{tShine:{type:"t",value:THREE.ImageUtils.loadTexture("plate_1_projection.png")},time:{type:"f",value:5},weight:{type:"f",value:10}},vertexShader:document.getElementById("vertexShader").textContent,fragmentShader:document.getElementById("fragmentShader").textContent}),P=new THREE.Mesh(new THREE.IcosahedronGeometry(20,5),material),D.add(P),T=new THREE.EffectComposer(y),T.addPass(new THREE.RenderPass(D,H));var e=new THREE.BloomPass(3,10,5,256);e.renderToScreen=!0,T.addPass(e);var n=new THREE.ShaderPass(THREE.CopyShader);n.renderToScreen=!0,T.addPass(n),g.addEventListener("mousedown",s,!1),g.addEventListener("mousemove",l,!1),g.addEventListener("mouseup",w,!1),g.addEventListener("mousewheel",d,!1),g.addEventListener("DOMMouseScroll",d,!1),window.addEventListener("resize",i,!1),q=new THREE.Projector,u()}function i(){y.setSize(window.innerWidth,window.innerHeight),H.projectionMatrix.makePerspective(M,window.innerWidth/window.innerHeight,1,1100)}function d(e){e.wheelDeltaY?M-=.01*e.wheelDeltaY:e.wheelDelta?M-=.05*e.wheelDelta:e.detail&&(M+=1*e.detail),H.projectionMatrix.makePerspective(M,window.innerWidth/window.innerHeight,1,1100)}function s(e){return e.preventDefault(),isUserInteracting=!0,onPointerDownPointerX=e.clientX,onPointerDownPointerY=e.clientY,onPointerDownLon=R,void(onPointerDownLat=S)}function l(e){isUserInteracting&&(R=.1*(e.clientX-onPointerDownPointerX)+onPointerDownLon,S=.1*(e.clientY-onPointerDownPointerY)+onPointerDownLat),U.x=e.clientX/window.innerWidth*2-1,U.y=2*-(e.clientY/window.innerHeight)+1}function w(e){isUserInteracting=!1}function c(){requestAnimationFrame(c),p.getByteFrequencyData(freqByteData);for(var e=freqByteData.length,n=0,t=0;t<e;++t)n+=freqByteData[t];aveLevel=n/e}function u(){material.uniforms.weight.value=aveLevel/v.noise_mult,material.uniforms.time.value=v.noise_speed*(Date.now()-L),S=Math.max(-85,Math.min(85,S)),_=(90-S)*Math.PI/180,I=R*Math.PI/180,H.position.x=100*Math.sin(_)*Math.cos(I)-v.camrotx*aveLevel,H.position.y=100*Math.cos(_)-v.camroty*aveLevel,H.position.z=100*Math.sin(_)*Math.sin(I)-v.camrotz*aveLevel,H.lookAt(H.target),x.rotation.y+=aveLevel*v.world_rot/1e9,x.rotation.x+=1e-5*aveLevel,H.lookAt(D.position),T.render(),requestAnimationFrame(u)}var m=new dat.GUI,v={noise_mult:3,noise_speed:25e-5,camrotx:0,camroty:0,camrotz:0,world_rot:17e3},E=m.addFolder("Shader");E.add(v,"noise_mult",.5,10),E.add(v,"noise_speed",25e-5,.0025);var h=m.addFolder("Camera");h.add(v,"camrotx",0,1),h.add(v,"camroty",0,1),h.add(v,"camrotz",0,1),h.add(v,"world_rot",1e4,1e5);var f=new AudioContext,p=f.createAnalyser();freqByteData=new Uint8Array(p.frequencyBinCount),navigator.webkitGetUserMedia({audio:!0},r,o),navigator.getUserMedia({audio:!0},r,o);var g,y,D,H,P,T,x,M=80,L=Date.now();window.addEventListener("load",a);var R=0,S=0,_=0,I=0;S=15,isUserInteracting=!1;var q,U={x:0,y:0},L=Date.now();c()},{}]},{},[1]);
=======
!function e(n,t,r){function o(i,d){if(!t[i]){if(!n[i]){var s="function"==typeof require&&require;if(!d&&s)return s(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var w=t[i]={exports:{}};n[i][0].call(w.exports,function(e){var t=n[i][1][e];return o(t?t:e)},w,w.exports,e,n,t,r)}return t[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,n,t){function r(){p=document.getElementById("container"),g=new THREE.WebGLRenderer,g.setSize(window.innerWidth,window.innerHeight),g.autoClear=!1,p.appendChild(g.domElement),y=new THREE.Scene,D=new THREE.PerspectiveCamera(x,window.innerWidth/window.innerHeight,1,1e4),D.position.z=100,D.target=new THREE.Vector3(0,0,0),y.add(D),T=new THREE.Mesh(new THREE.SphereGeometry(500,60,60),new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("plate_1.png")})),T.scale.x=-1,T.doubleSided=!0,y.add(T),material=new THREE.ShaderMaterial({uniforms:{tShine:{type:"t",value:THREE.ImageUtils.loadTexture("plate_1_projection.png")},time:{type:"f",value:5},weight:{type:"f",value:10}},vertexShader:document.getElementById("vertexShader").textContent,fragmentShader:document.getElementById("fragmentShader").textContent}),H=new THREE.Mesh(new THREE.IcosahedronGeometry(20,5),material),y.add(H),P=new THREE.EffectComposer(g),P.addPass(new THREE.RenderPass(y,D));var e=new THREE.BloomPass(3,10,5,256);e.renderToScreen=!0,P.addPass(e);var n=new THREE.ShaderPass(THREE.CopyShader);n.renderToScreen=!0,P.addPass(n),p.addEventListener("mousedown",i,!1),p.addEventListener("mousemove",d,!1),p.addEventListener("mouseup",s,!1),p.addEventListener("mousewheel",a,!1),p.addEventListener("DOMMouseScroll",a,!1),window.addEventListener("resize",o,!1),I=new THREE.Projector,w()}function o(){g.setSize(window.innerWidth,window.innerHeight),D.projectionMatrix.makePerspective(x,window.innerWidth/window.innerHeight,1,1100)}function a(e){e.wheelDeltaY?x-=.01*e.wheelDeltaY:e.wheelDelta?x-=.05*e.wheelDelta:e.detail&&(x+=1*e.detail),D.projectionMatrix.makePerspective(x,window.innerWidth/window.innerHeight,1,1100)}function i(e){return e.preventDefault(),isUserInteracting=!0,onPointerDownPointerX=e.clientX,onPointerDownPointerY=e.clientY,onPointerDownLon=R,void(onPointerDownLat=L)}function d(e){isUserInteracting&&(R=.1*(e.clientX-onPointerDownPointerX)+onPointerDownLon,L=.1*(e.clientY-onPointerDownPointerY)+onPointerDownLat),q.x=e.clientX/window.innerWidth*2-1,q.y=2*-(e.clientY/window.innerHeight)+1}function s(e){isUserInteracting=!1}function l(){requestAnimationFrame(l),h.getByteFrequencyData(freqByteData);for(var e=freqByteData.length,n=0,t=0;t<e;++t)n+=freqByteData[t];aveLevel=n/e}function w(){material.uniforms.weight.value=aveLevel/u.noise_mult,material.uniforms.time.value=u.noise_speed*(Date.now()-M),L=Math.max(-85,Math.min(85,L)),S=(90-L)*Math.PI/180,_=R*Math.PI/180,D.position.x=100*Math.sin(S)*Math.cos(_)-u.camrotx*aveLevel,D.position.y=100*Math.cos(S)-u.camroty*aveLevel,D.position.z=100*Math.sin(S)*Math.sin(_)-u.camrotz*aveLevel,D.lookAt(D.target),T.rotation.y+=aveLevel*u.world_rot/1e9,T.rotation.x+=1e-5*aveLevel,D.lookAt(y.position),P.render(),requestAnimationFrame(w)}var c=new dat.GUI,u={noise_mult:3,noise_speed:25e-5,camrotx:0,camroty:0,camrotz:0,world_rot:17e3},m=c.addFolder("Shader");m.add(u,"noise_mult",.5,10),m.add(u,"noise_speed",25e-5,.0025);var v=c.addFolder("Camera");v.add(u,"camrotx",0,1),v.add(u,"camroty",0,1),v.add(u,"camrotz",0,1),v.add(u,"world_rot",1e4,1e5);var E=new AudioContext,h=E.createAnalyser();freqByteData=new Uint8Array(h.frequencyBinCount);var f=function(e){console.log("Reeeejected!",e)};navigator.getUserMedia({audio:!0},function(e){var n=E.createMediaStreamSource(e);n.connect(h)},f);var p,g,y,D,H,P,T,x=80,M=Date.now();window.addEventListener("load",r);var R=0,L=0,S=0,_=0;L=15,isUserInteracting=!1;var I,q={x:0,y:0},M=Date.now();l()},{}]},{},[1]);
>>>>>>> master
